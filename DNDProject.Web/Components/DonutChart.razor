@* Components/DonutChart.razor *@
<div class="d-flex align-items-center gap-3">
    <div class="donut" style="--p:@ClampedPct"></div>

    <div>
        @if (!string.IsNullOrWhiteSpace(Title))
        {
            <div class="text-muted small">@Title</div>
        }
        @if (!string.IsNullOrWhiteSpace(Label))
        {
            <div class="text-muted small">@Label</div>
        }
        <div class="fw-semibold">@ClampedPct.ToString("N1")%</div>
    </div>
</div>

@code {
    // Brug i Razor: <DonutChart Value="82.0" Label="Ineffektiv" Title="Under/over grænse" />

    [Parameter] public string? Title { get; set; }
    [Parameter] public string? Label { get; set; }

    // ✅ Det er den din side sender ind
    [Parameter] public double Value { get; set; }

    private double ClampedPct => Math.Clamp(Value, 0d, 100d);
}

<style>
    .donut {
        width: 84px;
        height: 84px;
        border-radius: 50%;
        background: conic-gradient(var(--bs-danger) calc(var(--p) * 1%), var(--bs-success) 0);
        position: relative;
        flex: 0 0 auto;
    }

    .donut::after {
        content: "";
        position: absolute;
        inset: 10px;
        background: var(--bs-body-bg);
        border-radius: 50%;
        box-shadow: inset 0 0 0 1px rgba(0,0,0,.08);
    }
</style>
